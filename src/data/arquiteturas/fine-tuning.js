export const arquiteturaFineTuning = {
  id: 'fine-tuning',
  nome: 'Fine-tuning / SLM Especializado',
  descricao:
    'Arquitetura baseada em ajuste fino de modelos de linguagem para domínios específicos, ideal quando há dados proprietários de qualidade e necessidade de comportamento altamente customizado.',
  nivel: 'avancado',
  custoEstimado: 'alto',
  complexidade: 'alta',
  tempoImplementacao: '4-8 semanas',

  nodes: [
    {
      id: '1',
      type: 'custom',
      position: { x: 50, y: 100 },
      data: {
        label: 'Coleta de Dados',
        tipo: 'entrada',
        descricao: 'Coleta de dados proprietários do domínio',
        metricas: ['Volume de dados', 'Qualidade', 'Diversidade'],
        ferramentas: ['Data pipelines', 'Annotation tools'],
        riscos: ['Dados insuficientes', 'Viés nos dados'],
        entregas: ['Dataset bruto', 'Metadados'],
      },
    },
    {
      id: '2',
      type: 'custom',
      position: { x: 300, y: 100 },
      data: {
        label: 'Preparação de Dados',
        tipo: 'processamento',
        descricao: 'Limpeza, formatação e split de dados',
        metricas: ['Tamanho train/val/test', 'Balanceamento'],
        ferramentas: ['Pandas', 'Custom scripts', 'Label Studio'],
        riscos: ['Data leakage', 'Desbalanceamento'],
        entregas: ['Datasets preparados', 'Análise exploratória'],
      },
    },
    {
      id: '3',
      type: 'custom',
      position: { x: 550, y: 100 },
      data: {
        label: 'Escolha do Modelo Base',
        tipo: 'processamento',
        descricao: 'Seleção do modelo foundation apropriado',
        metricas: ['Tamanho do modelo', 'Performance baseline'],
        ferramentas: ['GPT-3.5', 'Llama 2/3', 'Mistral', 'Gemma'],
        riscos: ['Modelo muito grande', 'Licenciamento'],
        entregas: ['Modelo base validado', 'Baseline metrics'],
      },
    },
    {
      id: '4',
      type: 'custom',
      position: { x: 800, y: 100 },
      data: {
        label: 'Fine-tuning',
        tipo: 'processamento',
        descricao: 'Treinamento do modelo com dados específicos',
        metricas: ['Loss', 'Perplexity', 'Epochs'],
        ferramentas: ['Hugging Face Transformers', 'PEFT', 'LoRA'],
        riscos: ['Overfitting', 'Catastrophic forgetting'],
        entregas: ['Modelo ajustado', 'Training curves'],
      },
    },
    {
      id: '5',
      type: 'custom',
      position: { x: 1050, y: 100 },
      data: {
        label: 'Avaliação',
        tipo: 'processamento',
        descricao: 'Validação de qualidade e performance',
        metricas: ['Accuracy', 'F1-score', 'Human eval'],
        ferramentas: ['Test suite', 'A/B testing', 'Human evaluation'],
        riscos: ['Métricas enganosas', 'Viés não detectado'],
        entregas: ['Relatório de avaliação', 'Benchmarks'],
      },
    },
    {
      id: '6',
      type: 'custom',
      position: { x: 1300, y: 100 },
      data: {
        label: 'Model Serving',
        tipo: 'processamento',
        descricao: 'Deploy e serving do modelo ajustado',
        metricas: ['Latência', 'Throughput', 'GPU utilization'],
        ferramentas: ['vLLM', 'TGI', 'SageMaker', 'Modal'],
        riscos: ['Custo de infraestrutura', 'Cold start'],
        entregas: ['API de inferência', 'Load balancing'],
      },
    },
    {
      id: '7',
      type: 'custom',
      position: { x: 1550, y: 100 },
      data: {
        label: 'Aplicação',
        tipo: 'saida',
        descricao: 'Integração com aplicação final',
        metricas: ['Latência E2E', 'User satisfaction'],
        ferramentas: ['REST API', 'SDK'],
        riscos: ['Timeout', 'Rate limiting'],
        entregas: ['Integração completa', 'Docs de API'],
      },
    },
    {
      id: '8',
      type: 'custom',
      position: { x: 800, y: 300 },
      data: {
        label: 'Monitoramento',
        tipo: 'monitoramento',
        descricao: 'Observabilidade de qualidade e performance',
        metricas: ['Drift', 'Quality degradation', 'Cost'],
        ferramentas: ['MLflow', 'Weights & Biases', 'Arize'],
        riscos: ['Degradação não detectada', 'Custos crescentes'],
        entregas: ['Dashboards', 'Alertas de drift'],
      },
    },
    {
      id: '9',
      type: 'custom',
      position: { x: 300, y: 300 },
      data: {
        label: 'Retreinamento',
        tipo: 'processamento',
        descricao: 'Loop de melhoria contínua',
        metricas: ['Frequência', 'Improvement delta'],
        ferramentas: ['CI/CD', 'Automated pipelines'],
        riscos: ['Regressão de performance', 'Downtime'],
        entregas: ['Pipeline automatizado', 'Rollback strategy'],
      },
    },
  ],

  edges: [
    { id: 'e1-2', source: '1', target: '2', type: 'smoothstep', animated: true },
    { id: 'e2-3', source: '2', target: '3', type: 'smoothstep', animated: true },
    { id: 'e3-4', source: '3', target: '4', type: 'smoothstep', animated: true },
    { id: 'e4-5', source: '4', target: '5', type: 'smoothstep', animated: true },
    { id: 'e5-6', source: '5', target: '6', type: 'smoothstep', animated: true },
    { id: 'e6-7', source: '6', target: '7', type: 'smoothstep', animated: true },
    {
      id: 'e6-8',
      source: '6',
      target: '8',
      type: 'smoothstep',
      style: { strokeDasharray: '5,5' },
    },
    {
      id: 'e8-9',
      source: '8',
      target: '9',
      type: 'smoothstep',
      style: { strokeDasharray: '5,5' },
    },
    { id: 'e9-2', source: '9', target: '2', type: 'smoothstep', label: 'Feedback loop' },
  ],

  casosDeUso: [
    'Assistentes especializados (médico, jurídico, científico)',
    'Geração de código específico de domínio',
    'Tradução técnica especializada',
    'Chatbots com personalidade/voz específica',
  ],

  prerequisitos: {
    dados: 'Mínimo 1000-10000 exemplos de alta qualidade do domínio',
    time: 'ML Engineer experiente + MLOps + Domain expert',
    orcamento: 'Alto ($5000+/mês para treinamento e infraestrutura)',
  },

  vantagens: [
    'Comportamento altamente customizado',
    'Melhor performance em tarefas específicas',
    'Possibilidade de usar modelos menores (menor latência)',
    'Controle total sobre o modelo',
  ],

  desvantagens: [
    'Requer grande volume de dados de qualidade',
    'Custo elevado de treinamento',
    'Complexidade técnica alta',
    'Risco de catastrophic forgetting',
    'Necessidade de retreinamento periódico',
  ],
};

